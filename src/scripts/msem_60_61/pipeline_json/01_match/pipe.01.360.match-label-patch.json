{
  "multiProject": {
    "baseDataUrl" : "http://10.40.3.113:8080/render-ws/v1",
    "owner" : "hess_wafers_60_61", "project" : "w60_serial_360_to_369",
    "stackIdWithZ" : { "projectPattern": "^w60_serial_360_to_369", "stackPattern": "^w.._s.._r.._d20_gc$", "zValuesPerBatch": 1 }
  },
  "pipelineStackGroups": {
    "raw":                { "stackPattern": "^w.._s..._r.._d20_gc$" },
    "aligned":            { "stackPattern": "^w.._s..._r.._d20_gc_align$" },
    "intensityCorrected": { "stackPattern": "^w.._s..._r.._d20_gc_align_ic$" }
  },
  "pipelineSteps": [
    "DERIVE_TILE_MATCHES",
    "LABEL_UNCONNECTED_MONTAGE_MFOV_EDGES",
    "PATCH_MFOV_MONTAGE_MATCHES"
  ],
  "matchRunList": [
    {
      "runName": "montageMfovRun",
      "matchCommon": {
        "maxPairsPerStackBatch" : 4,
        "featureStorage": { "maxFeatureSourceCacheGb": 6 },
        "maxPeakCacheGb" : 2
      },
      "tilePairDerivationParameters": {
        "xyNeighborFactor": 0.6, "useRowColPositions": false,
        "zNeighborDistance": 0, "excludeCornerNeighbors": false,
        "excludeCompletelyObscuredTiles": false, "excludeSameLayerNeighbors": false, "excludeSameSectionNeighbors": false,
        "excludeSameMfovNeighbors": true,
        "excludePairsInMatchCollection": "pairsFromPriorRuns", "minExistingMatchCount": 0
      },
      "matchStageParametersList": [
        {
          "stageName": "montageMfovPass1",
          "featureExtraction": { "fdSize": 4, "maxScale": 1.0, "minScale": 0.25, "steps": 5 },
          "featureMatchDerivation": {
            "matchFilter": "SINGLE_SET", "matchFullScaleCoverageRadius": 300.0, "matchIterations": 1000, "matchMaxEpsilonFullScale": 5.0, "matchMaxTrust": 4.0,
            "matchMinCoveragePercentage": 50.0, "matchMinInlierRatio": 0.0, "matchMinNumInliers": 25, "matchModelType": "TRANSLATION", "matchRod": 0.92
          },
          "featureRender": { "renderScale": 0.2, "renderWithFilter": true, "renderWithoutMask": false },
          "geometricDescriptorAndMatch": { "gdEnabled": false }
        },
        {
          "stageName": "montageMfovPass2",
          "featureExtraction": { "fdSize": 4, "maxScale": 1.0, "minScale": 0.25, "steps": 5 },
          "featureMatchDerivation": {
            "matchFilter": "SINGLE_SET", "matchFullScaleCoverageRadius": 300.0, "matchIterations": 1000, "matchMaxEpsilonFullScale": 5.0, "matchMaxTrust": 4.0,
            "matchMinCoveragePercentage": 20.0, "matchMinInlierRatio": 0.0, "matchMinNumInliers": 25, "matchModelType": "TRANSLATION", "matchRod": 0.92
          },
          "featureRender": { "renderScale": 0.3, "renderWithFilter": true, "renderWithoutMask": false },
          "geometricDescriptorAndMatch": { "gdEnabled": false }
        },
        {
          "stageName": "montageMfovPass3",
          "featureExtraction": { "fdSize": 4, "maxScale": 1.0, "minScale": 0.25, "steps": 5 },
          "featureMatchDerivation": {
            "matchFilter": "SINGLE_SET", "matchFullScaleCoverageRadius": 300.0, "matchIterations": 1000, "matchMaxEpsilonFullScale": 5.0, "matchMaxTrust": 4.0,
            "matchMinCoveragePercentage": 20.0, "matchMinInlierRatio": 0.0, "matchMinNumInliers": 25, "matchModelType": "TRANSLATION", "matchRod": 0.92
          },
          "featureRender": { "renderScale": 0.4, "renderWithFilter": true, "renderWithoutMask": false },
          "geometricDescriptorAndMatch": { "gdEnabled": false }
        }
      ]
    },
    {
      "runName": "montageRun",
      "matchCommon": {
        "maxPairsPerStackBatch" : 4,
        "featureStorage": { "maxFeatureSourceCacheGb": 6 },
        "maxPeakCacheGb" : 2
      },
      "tilePairDerivationParameters": {
        "xyNeighborFactor": 0.6, "useRowColPositions": false, 
        "zNeighborDistance": 0, "excludeCornerNeighbors": false, 
        "excludeCompletelyObscuredTiles": false, "excludeSameLayerNeighbors": false, "excludeSameSectionNeighbors": false,
        "excludeSameMfovNeighbors": false,
        "excludePairsInMatchCollection": "pairsFromPriorRuns", "minExistingMatchCount": 0
      },
      "matchStageParametersList": [
        {
          "stageName": "montagePass1",
          "featureExtraction": { "fdSize": 4, "maxScale": 1.0, "minScale": 0.25, "steps": 5 },
          "featureMatchDerivation": {
            "matchFilter": "SINGLE_SET", "matchFullScaleCoverageRadius": 300.0, "matchIterations": 1000, "matchMaxEpsilonFullScale": 5.0, "matchMaxTrust": 4.0, 
            "matchMinCoveragePercentage": 20.0, "matchMinInlierRatio": 0.0, "matchMinNumInliers": 25, "matchModelType": "TRANSLATION", "matchRod": 0.92
          },
          "featureRender": { "renderScale": 0.8, "renderWithFilter": true, "renderWithoutMask": false },
          "featureRenderClip": { "clipHeight": 150, "clipWidth": 150 },
          "geometricDescriptorAndMatch": { "gdEnabled": false }
        },
        {
          "stageName": "montagePass2",
          "featureExtraction": { "fdSize": 4, "maxScale": 1.0, "minScale": 0.25, "steps": 5 },
          "featureMatchDerivation": {
            "matchFilter": "SINGLE_SET", "matchFullScaleCoverageRadius": 300.0, "matchIterations": 1000, "matchMaxEpsilonFullScale": 5.0, "matchMaxTrust": 4.0,
            "matchMinCoveragePercentage": 0.0, "matchMinInlierRatio": 0.0, "matchMinNumInliers": 10, "matchModelType": "TRANSLATION", "matchRod": 0.92
          },
          "featureRender": { "renderScale": 1.0, "renderWithFilter": true, "renderWithoutMask": false },
          "featureRenderClip": { "clipHeight": 150, "clipWidth": 150 },
          "geometricDescriptorAndMatch": { "gdEnabled": false }
        },
        {
          "stageName": "montagePass3",
          "startPositionMatchWeight": 0.000001,
          "featureExtraction": { "fdSize": 4, "maxScale": 1.0, "minScale": 0.25, "steps": 5 },
          "featureMatchDerivation": {
            "matchFilter": "SINGLE_SET", "matchFullScaleCoverageRadius": 300.0, "matchIterations": 1000, "matchMaxEpsilonFullScale": 5.0, "matchMaxTrust": 4.0,
            "matchMinCoveragePercentage": 0.0, "matchMinInlierRatio": 0.0, "matchMinNumInliers": 10, "matchModelType": "TRANSLATION", "matchRod": 0.92
          },
          "featureRender": { "renderScale": 1.0, "renderWithFilter": true, "renderWithoutMask": false },
          "featureRenderClip": { "clipHeight": 150, "clipWidth": 150 },
          "geometricDescriptorAndMatch": { "gdEnabled": false }
        }
      ]
    }
  ]
}
